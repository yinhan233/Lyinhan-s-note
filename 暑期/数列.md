# 数列相关预备知识

## 数列的概念
1. **数列的定义**：按照一定顺序排列的一列数称为数列，数列中的每一个数叫做这个数列的**项**。
2. **数列和函数的关系**：数列可以看作以正整数集 $\mathbb{N}^*$（或其有限子集）为定义域的函数 $a_n = f(n)$，当自变量按照从小到大的顺序依次取值时所对应的一列函数值。

## 数列的分类
1. **按项数分类**：
   - 有穷数列
   - 无穷数列
2. **按单调性分类**：
   - 严格递增数列：$a_{n+1} > a_n$
   - 非严格递增数列：$a_{n+1} \geq a_n$
   - 严格递减数列：$a_{n+1} < a_n$
   - 非严格递减数列：$a_{n+1} \leq a_n$
   - 常数列：$a_{n+1} = a_n$
   - 摆动数列：各项正负交替或呈周期波动

## 数列的表示方式
1. **通项公式**：$a_n = f(n)$
2. **递推公式**：$a_n = f(a_{n-1}, a_{n-2}, \dots)$

## 常用结论
数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，则通项公式为：
$$
a_n = \begin{cases} 
S_1 & (n=1) \\
S_n - S_{n-1} & (n \geq 2, n \in \mathbb{N})
\end{cases}
$$

# 等差数列

## 相关概念
1. **定义**：从第二项起，每一项与它的前一项的差等于同一个常数 $d$，即：
   $$
   a_{n+1} - a_n = d \quad (n \geq 1, n \in \mathbb{N})
   $$
   称 $d$ 为**公差**。
2. **等差中项**：若 $a, A, b$ 成等差数列，则 $A = \dfrac{a+b}{2}$。  
   若 $\{a_n\}$ 是等差数列，则：
   $$
   a_n = \frac{a_{n-1} + a_{n+1}}{2} \quad (n \geq 2)
   $$

## 基本公式
1. **通项公式**：
   $$
   a_n = a_1 + (n-1)d = nd + (a_1 - d)
   $$
2. **前 $n$ 项和公式**：
   $$
   S_n = \frac{n(a_1 + a_n)}{2} = na_1 + \frac{n(n-1)}{2}d = \frac{d}{2}n^2 + \left(a_1 - \frac{d}{2}\right)n
   $$

## 常用结论
1. **下标性质**：$a_n = a_m + (n-m)d \quad (m,n \geq 1)$
2. **等和性质**：若 $m+n=p+q$，则 $a_m + a_n = a_p + a_q$  
   特别地，若 $m+n=2k$，则 $a_m + a_n = 2a_k$
3. **等距子列**：$a_k, a_{k+m}, a_{k+2m}$ 仍为等差数列，公差为 $md$
4. **和的分段性质**：$S_n, S_{2n}-S_n, S_{3n}-S_{2n}$ 构成等差数列，公差为 $n^2d$
5. **均值数列**：$\left\{ \dfrac{S_n}{n} \right\}$ 是等差数列，公差为 $\dfrac{d}{2}$，首项为 $a_1$
6. **偶数项性质**（项数 $N=2n$）：
   - $S_{2n} = n(a_1 + a_{2n}) = n(a_n + a_{n+1})$
   - $S_{\text{偶}} - S_{\text{奇}} = nd$
   - $\dfrac{S_{\text{奇}}}{S_{\text{偶}}} = \dfrac{a_n}{a_{n+1}}$
1. **奇数项性质**（项数 $N=2n-1$）：
   - $S_{2n-1} = (2n-1)a_n$
   - $S_{\text{奇}} - S_{\text{偶}} = a_n$
   - $\dfrac{S_{\text{奇}}}{S_{\text{偶}}} = \dfrac{n}{n-1}$
8. **和的最值条件**：
   - $a_1 > 0$ 且 $d < 0$：当 $a_m \geq 0$ 且 $a_{m+1} \leq 0$ 时，$S_m$ 最大
   - $a_1 < 0$ 且 $d > 0$：当 $a_m \leq 0$ 且 $a_{m+1} \geq 0$ 时，$S_m$ 最小

---

# 等差数列常用结论的论证
## 结论3：均值数列的等差性
> **定理**：数列 $\left\{ \dfrac{S_n}{n} \right\}$ 是等差数列，公差为 $\dfrac{d}{2}$，首项为 $a_1$。

**证明**：  
由求和公式：
$$
\frac{S_n}{n} = \frac{na_1 + \frac{n(n-1)}{2}d}{n} = a_1 + \frac{(n-1)d}{2}
$$
计算相邻两项差：
$$
\frac{S_{n}}{n} - \frac{S_{n-1}}{n-1} = \left[a_1 + \frac{(n-1)d}{2}\right] - \left[a_1 + \frac{(n-2)d}{2}\right] = \frac{d}{2} \quad (n \geq 2)
$$
故 $\left\{ \dfrac{S_n}{n} \right\}$ 是公差为 $\dfrac{d}{2}$ 的等差数列，首项 $\dfrac{S_1}{1} = a_1$。
## 结论4：偶数项和的性质
> **定理**：当项数 $N=2n$ 时：
> 1. $S_{2n} = n(a_1 + a_{2n}) = n(a_n + a_{n+1})$
> 2. $S_{\text{偶}} - S_{\text{奇}} = nd$
> 3. $\dfrac{S_{\text{奇}}}{S_{\text{偶}}} = \dfrac{a_n}{a_{n+1}}$

**证明**：  
设奇数项为 $a_1, a_3, \dots, a_{2n-1}$，偶数项为 $a_2, a_4, \dots, a_{2n}$。
$$
\begin{align*}
S_{\text{奇}} &= a_1 + a_3 + \cdots + a_{2n-1} = \frac{n}{2}[a_1 + a_{2n-1}] \\
S_{\text{偶}} &= a_2 + a_4 + \cdots + a_{2n} = \frac{n}{2}[a_2 + a_{2n}] \\
S_{\text{偶}} - S_{\text{奇}} &= \frac{n}{2}\left[(a_2 + a_{2n}) - (a_1 + a_{2n-1})\right] \\
&= \frac{n}{2}[(a_1 + d + a_1 + (2n-1)d) - (a_1 + a_1 + (2n-2)d)] \\
&= \frac{n}{2} \cdot 2d = nd
\end{align*}
$$
比值关系：
$$
\frac{S_{\text{奇}}}{S_{\text{偶}}} = \frac{\frac{n}{2}(a_1 + a_{2n-1})}{\frac{n}{2}(a_2 + a_{2n})} = \frac{a_1 + a_{2n-1}}{a_2 + a_{2n}} = \frac{2a_n}{2a_{n+1}} = \frac{a_n}{a_{n+1}}
$$

## 结论5：奇数项和的性质
> **定理**：当项数 $N=2n-1$ 时：
> 1. $S_{2n-1} = (2n-1)a_n$
> 2. $S_{\text{奇}} - S_{\text{偶}} = a_n$
> 3. $\dfrac{S_{\text{奇}}}{S_{\text{偶}}} = \dfrac{n}{n-1}$

**证明**：  
奇数项：$a_1, a_3, \dots, a_{2n-1}$（共 $n$ 项）  
偶数项：$a_2, a_4, \dots, a_{2n-2}$（共 $n-1$ 项）  
由等差中项性质：
$$
S_{2n-1} = \frac{(2n-1)}{2} \cdot (a_1 + a_{2n-1}) = (2n-1) \cdot \frac{a_1 + a_{2n-1}}{2} = (2n-1)a_n
$$
奇偶和差：
$$
\begin{align*}
S_{\text{奇}} &= a_1 + a_3 + \cdots + a_{2n-1} = na_n \\
S_{\text{偶}} &= a_2 + a_4 + \cdots + a_{2n-2} = (n-1)a_n \\
S_{\text{奇}} - S_{\text{偶}} &= na_n - (n-1)a_n = a_n
\end{align*}
$$
比值关系：
$$
\frac{S_{\text{奇}}}{S_{\text{偶}}} = \frac{na_n}{(n-1)a_n} = \frac{n}{n-1}
$$
## 结论6：和的最值条件
> **定理**：$S_n$ 的最值条件：
> - 若 $a_1 > 0$ 且 $d < 0$，则当 $a_m \geq 0$ 且 $a_{m+1} \leq 0$ 时，$S_m$ 为最大值
> - 若 $a_1 < 0$ 且 $d > 0$，则当 $a_m \leq 0$ 且 $a_{m+1} \geq 0$ 时，$S_m$ 为最小值

**证明**：  
由通项公式 $a_n = a_1 + (n-1)d$，$S_n$ 是二次函数 $S_n = \dfrac{d}{2}n^2 + \left(a_1 - \dfrac{d}{2}\right)n$。  
- 当 $d < 0$ 时，抛物线开口向下，最大值在顶点 $n_0 = \dfrac{1}{2} - \dfrac{a_1}{d}$ 附近  
- 当 $d > 0$ 时，抛物线开口向上，最小值在顶点附近  

由 $a_n \geq 0$ 且 $a_{n+1} \leq 0$ 得：
$$
a_1 + (n-1)d \geq 0 \quad \text{且} \quad a_1 + nd \leq 0
$$
解得整数解 $m$ 即为最值点。

# 等比数列

## 相关概念
1. **定义**：从第二项起，每一项与它的前一项的比等于同一个常数 $q$，即：
   $$
   \frac{a_{n+1}}{a_n} = q \quad (n \geq 1, n \in \mathbb{N})
   $$
   称 $q$ 为**公比**（$q \neq 0$，$a_n \neq 0$）。
   
2. **等比中项**：若 $a, G, b$ 成等比数列，则 $G = \pm\sqrt{ab}$。  
   若 $\{a_n\}$ 是等比数列，则：
   $$
   a_n^2 = a_{n-1} \cdot a_{n+1} \quad (n \geq 2)
   $$
## 基本公式
1. **通项公式**：
   $$
   a_n = a_1 \cdot q^{n-1} = a_m \cdot q^{n-m} \quad (m,n \geq 1)
   $$
   
2. **前 $n$ 项和公式**：
   $$
   S_n = \begin{cases} 
   na_1 & (q = 1) \\
   a_1 \cdot \dfrac{1-q^n}{1-q} = a_1 \cdot \dfrac{q^n-1}{q-1} & (q \neq 1)
   \end{cases}
   $$

3. **无穷等比级数和**：
   当 $|q| < 1$ 时：
   $$
   S = \lim_{n \to \infty} S_n = \sum_{i=1}^{\infty} a_1 q^{i-1} = \frac{a_1}{1-q}
   $$

## 常用结论
1. **等积性质**：若 $m+n=p+q=2k$，则：
   $$
   a_m \cdot a_n = a_p \cdot a_q = a_k^2 \quad (m,n,p,q,k \geq 1)
   $$
   
2. **运算性质**：若 $\{a_n\}, \{b_n\}$ 均为等比数列，则：
   - $\lambda a_n$ ($\lambda \neq 0$) 是等比数列
   - $\dfrac{1}{a_n}$ 是等比数列
   - $a_n^2$ 是等比数列
   - $a_n \cdot b_n$ 是等比数列
   - $\dfrac{a_n}{b_n}$ 是等比数列
   
3. **等距子列性质**：$a_n, a_{n+k}, a_{n+2k}, a_{n+3k}, \dots$ 构成等比数列，公比为 $q^k$

4. **积的分段性质**：设 $T_n = a_1 \cdot a_2 \cdot \dots \cdot a_n$，则：
   $$
   T_n, \ \frac{T_{2n}}{T_n}, \ \frac{T_{3n}}{T_{2n}} \ \text{成等比数列}
   $$

5. **和的充要条件**：当 $q \neq 0$ 且 $q \neq 1$ 时，$S_n = k - kq^n$ ($k \neq 0$) 是 $\{a_n\}$ 为等比数列的充要条件，其中 $k = \dfrac{a_1}{1-q}$

6. **对称积性质**：在有穷等比数列中，与首末两项等距离的两项的积相等；若项数为奇数，则等于中间项的平方

---

# 等比数列常用结论的论证

## 结论1：等积性质
> **定理**：若 $m+n=p+q=2k$，则 $a_m \cdot a_n = a_p \cdot a_q = a_k^2$

**证明**：  
由通项公式：
$$
a_m = a_1 q^{m-1}, \quad a_n = a_1 q^{n-1}, \quad a_p = a_1 q^{p-1}, \quad a_q = a_1 q^{q-1}
$$
计算乘积：
$$
a_m \cdot a_n = (a_1 q^{m-1}) \cdot (a_1 q^{n-1}) = a_1^2 q^{(m+n)-2}
$$
由 $m+n=2k$ 得：
$$
a_m \cdot a_n = a_1^2 q^{2k-2} = (a_1 q^{k-1})^2 = a_k^2
$$
同理 $a_p \cdot a_q = a_k^2$，故结论成立。

## 结论2：运算性质
> **定理**：若 $\{a_n\}$ 是公比为 $q$ 的等比数列，$\{b_n\}$ 是公比为 $r$ 的等比数列，则：
> 1. $\lambda a_n$ ($\lambda \neq 0$) 是公比为 $q$ 的等比数列
> 2. $\dfrac{1}{a_n}$ 是公比为 $\dfrac{1}{q}$ 的等比数列
> 3. $a_n^2$ 是公比为 $q^2$ 的等比数列
> 4. $a_n \cdot b_n$ 是公比为 $q \cdot r$ 的等比数列
> 5. $\dfrac{a_n}{b_n}$ 是公比为 $\dfrac{q}{r}$ 的等比数列

**证明**：  
1. $\lambda a_{n+1} / (\lambda a_n) = a_{n+1}/a_n = q$  
2. $(1/a_{n+1}) / (1/a_n) = a_n/a_{n+1} = 1/q$  
3. $a_{n+1}^2 / a_n^2 = (a_{n+1}/a_n)^2 = q^2$  
4. $(a_{n+1}b_{n+1}) / (a_n b_n) = (a_{n+1}/a_n) \cdot (b_{n+1}/b_n) = q \cdot r$  
5. $(a_{n+1}/b_{n+1}) / (a_n/b_n) = (a_{n+1}/a_n) \cdot (b_n/b_{n+1}) = q \cdot (1/r) = q/r$  

## 结论3：积的分段性质
> **定理**：设 $T_n = \prod_{k=1}^n a_k$，则 $T_n, \dfrac{T_{2n}}{T_n}, \dfrac{T_{3n}}{T_{2n}}$ 成等比数列

**证明**：  
由乘积公式 $T_m = (a_1 a_m)^{m/2}$，得：
$$
\begin{align*}
T_n &= (a_1 a_n)^{n/2} \\
T_{2n} &= (a_1 a_{2n})^{n} \\
T_{3n} &= (a_1 a_{3n})^{3n/2}
\end{align*}
$$
计算比值：
$$
\frac{T_{2n}/T_n}{T_n} = \frac{(a_1 a_{2n})^{n}}{(a_1 a_n)^{n/2} \cdot (a_1 a_n)^{n/2}} = \frac{(a_1 a_{2n})^{n}}{(a_1 a_n)^n} = \left(\frac{a_{2n}}{a_n}\right)^n = (q^n)^n = q^{n^2}
$$
$$
\frac{T_{3n}/T_{2n}}{T_{2n}/T_n} = \frac{(a_1 a_{3n})^{3n/2}/(a_1 a_{2n})^{n}}{(a_1 a_{2n})^{n}/(a_1 a_n)^{n}} = \left(\frac{a_{3n}}{a_{2n}}\right)^n \cdot \left(\frac{a_n}{a_{2n}}\right)^n = (q^n)^n \cdot (q^{-n})^n = q^{n^2}
$$
故三者公比相同，成等比数列。

## 结论4：和的充要条件
> **定理**：当 $q \neq 0$ 且 $q \neq 1$ 时，$S_n = k - kq^n$ ($k \neq 0$) 是 $\{a_n\}$ 为等比数列的充要条件

**证明**：  
**必要性**：若 $\{a_n\}$ 是等比数列，则：
$$
S_n = a_1 \frac{1-q^n}{1-q} = \underbrace{\frac{a_1}{1-q}}_{k} - \underbrace{\frac{a_1}{1-q}}_{k} q^n = k - kq^n
$$
其中 $k = \dfrac{a_1}{1-q} \neq 0$。

**充分性**：若 $S_n = k - kq^n$，则：
$$
a_n = S_n - S_{n-1} = (k - kq^n) - (k - kq^{n-1}) = kq^{n-1} - kq^n = kq^{n-1}(1 - q)
$$
当 $n=1$ 时：
$$
a_1 = S_1 = k - kq = k(1-q)
$$
故通项公式为：
$$
a_n = [k(1-q)] \cdot q^{n-1}
$$
即为首项 $a_1 = k(1-q)$，公比 $q$ 的等比数列。

## 结论5：对称积性质
> **定理**：在有穷等比数列中，与首末两项等距离的两项的积相等；若项数为奇数，则等于中间项的平方

**证明**：  
设数列为 $a_1, a_2, \dots, a_N$，公比为 $q$。  
对任意 $k$，第 $k$ 项 $a_k$ 与第 $N-k+1$ 项 $a_{N-k+1}$ 的积：
$$
a_k \cdot a_{N-k+1} = (a_1 q^{k-1}) \cdot (a_1 q^{N-k}) = a_1^2 q^{N-1}
$$
该积与 $k$ 无关，故所有对称位置乘积相等。  

当项数 $N=2m-1$ 为奇数时，中间项为 $a_m$：
$$
a_m^2 = (a_1 q^{m-1})^2 = a_1^2 q^{2m-2}
$$
由 $N=2m-1$ 得 $2m-2 = N-1$，故：
$$
a_m^2 = a_1^2 q^{N-1} = a_k \cdot a_{N-k+1}
$$
证毕。



# 数学归纳法

## 基本概念
**数学归纳法**是一种证明与正整数 $n$ 有关的数学命题的严谨方法。它基于以下原理：
> 若一个命题 $P(n)$ 满足：
> 1. **奠基步**：$P(1)$ 成立
> 2. **归纳步**：若 $P(k)$ 成立，则 $P(k+1)$ 也成立
> 
> 则该命题对所有正整数 $n$ 都成立。

## 使用步骤

### 第一步：验证基础情况
验证命题在最小正整数（通常是 $n=1$）时成立：
$$
P(1) \text{ 为真}
$$

### 第二步：提出归纳假设
假设命题对某个正整数 $k$ 成立：
$$
\text{设 } P(k) \text{ 成立（} k \geq 1\text{）}
$$

### 第三步：进行归纳递推
利用 $P(k)$ 成立的条件，推导出 $P(k+1)$ 也成立：
$$
P(k) \text{ 成立 } \implies P(k+1) \text{ 成立}
$$

### 第四步：得出结论
根据数学归纳法原理，命题对所有正整数 $n$ 成立：
$$
\forall n \in \mathbb{N}^*, P(n) \text{ 成立}
$$
# 数列求和方法总结

> 系统梳理六大核心求和方法，包含公式推导、适用场景和典型例题

## 一、公式法
### 1. 等差数列求和
设首项 $a_1$，公差 $d$，项数 $n$，末项 $a_n$：
$$S_n = \frac{n(a_1 + a_n)}{2} = na_1 + \frac{n(n-1)}{2}d$$

**推导**：  
$S_n = a_1 + (a_1+d) + \cdots + [a_1+(n-1)d]$  
$S_n = [a_n - (n-1)d] + \cdots + a_n$  
相加得 $2S_n = n(a_1 + a_n)$

### 2. 等比数列求和
设首项 $a_1$，公比 $q$，项数 $n$：
$$S_n = \begin{cases} 
na_1 & q=1 \\
\dfrac{a_1(1-q^n)}{1-q} & q \neq 1 
\end{cases}$$

**推导**（$q \neq 1$）：  
$S_n = a_1 + a_1q + \cdots + a_1q^{n-1}$  
$qS_n = a_1q + \cdots + a_1q^n$  
相减得 $(1-q)S_n = a_1(1-q^n)$

---

## 二、分组转化法
**适用场景**：数列由多个可求和子列组成  
**步骤**：  
1. 拆分为等差/等比子列  
2. 分别求和后组合

**例**：$S_n = (1 + \frac{1}{2}) + (2 + \frac{1}{4}) + \cdots + (n + \frac{1}{2^n})$  
**解**：  
$S_n = \underbrace{\sum k}_{等差} + \underbrace{\sum \frac{1}{2^k}}_{等比} = \dfrac{n(n+1)}{2} + 1 - \dfrac{1}{2^n}$

---

## 三、裂项相消法
**核心思想**：将通项拆为两项差，求和时中间项抵消

### 常见裂项形式
| 类型       | 公式                                                                 |
|------------|----------------------------------------------------------------------|
| 分式型     | $\dfrac{1}{n(n+k)} = \dfrac{1}{k}\left(\dfrac{1}{n} - \dfrac{1}{n+k}\right)$ |
| 根式型     | $\dfrac{1}{\sqrt{n}+\sqrt{n+k}} = \dfrac{1}{k}(\sqrt{n+k} - \sqrt{n})$        |
| 指数型     | $\dfrac{a^n}{(a^n+b)(a^{n+1}+b)} = \dfrac{1}{a}\left(\dfrac{1}{a^n+b} - \dfrac{1}{a^{n+1}+b}\right)$ |
| 阶乘型     | $\dfrac{n}{(n+1)!} = \dfrac{1}{n!} - \dfrac{1}{(n+1)!}$                      |

**例**：$S_n = \sum \dfrac{1}{(2k-1)(2k+1)}$  
**解**：  
$a_k = \dfrac{1}{2}\left(\dfrac{1}{2k-1} - \dfrac{1}{2k+1}\right)$  
$S_n = \dfrac{1}{2}\left(1 - \dfrac{1}{2n+1}\right) = \dfrac{n}{2n+1}$

---

## 四、错位相减法
**适用场景**：$\{a_n\}$ 等差，$\{b_n\}$ 等比，求 $\sum a_n b_n$

**步骤**：  
1. 写 $S_n = \sum a_n b_n$  
2. 乘公比 $q$：$qS_n = \sum a_n b_{n+1}$  
3. 错位相减  
4. 整理化简

**例**：$S_n = 1 + 3x + 5x^2 + \cdots + (2n-1)x^{n-1}$  
**解**：  
$(1-x)S_n = 1 + 2\sum\limits_{k=1}^{n-1} x^k - (2n-1)x^n$  
$S_n = \dfrac{1}{1-x} + \dfrac{2x(1-x^{n-1})}{(1-x)^2} - \dfrac{(2n-1)x^n}{1-x}$

---

## 五、倒序相加法
**适用场景**：首尾等距两项和相等

**步骤**：  
1. 正序写 $S_n$  
2. 倒序写 $S_n$  
3. 两式相加求和

**例**：证明 $\sum\limits_{k=0}^n C_n^k = 2^n$  
**解**：  
$S_n = C_n^0 + C_n^1 + \cdots + C_n^n$  
倒序：$S_n = C_n^n + \cdots + C_n^0$  
相加：$2S_n = \sum (C_n^k + C_n^{n-k}) = \sum 2C_n^k = 2^{n+1}$  
$\therefore S_n = 2^n$

---

## 六、常见裂项技巧扩展
1. **双重根式**：  
   $\dfrac{1}{\sqrt{n}+\sqrt{n+2}} = \dfrac{1}{2}(\sqrt{n+2}-\sqrt{n})$
   
2. **三项乘积**：  
   $\dfrac{1}{n(n+1)(n+2)} = \dfrac{1}{2}\left[\dfrac{1}{n(n+1)} - \dfrac{1}{(n+1)(n+2)}\right]$
   
3. **指数复合**：  
   $\dfrac{n+2}{n(n+1)2^n} = \dfrac{2}{n2^{n-1}} - \dfrac{1}{(n+1)2^n}$
   
4. **三角函数**：  
   $\dfrac{\sin 1°}{\cos n° \cos(n+1)°} = \tan(n+1)° - \tan n°$

---